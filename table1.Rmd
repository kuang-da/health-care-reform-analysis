---
title: "Untitled"
author: "Zhanqi Wang"
date: "12/27/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(foreign)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r echo = FALSE}
library(foreign)
hcg = read.table("w.data")
colnames(hcg) = c("id","year", "doctco", "age", "male","educ","married","hsize", "sport", "goodh", "badh", "sozh", "loginc", "ft", "pt", "unemp", "winter", "spring", "fall")
# id           person - identification number
# year         calendar year of the observation
# doctco       number of doctor visits in last three months
# age          age in years
# male         male = 1; female = 0
# educ         years of schooling
# married      married = 1; otherwise = 0
# hsize        number of people living in household
# sport        actively engaged in sports = 1; otherwise = 0
# goodh        good health (self assessent) = 1; otherwise = 0
# badh         bad health (self assessent) = 1; otherwise = 0
# sozh         individual receives welfare payments = 1; otherwise = 0
# loginc       logarithm of monthly gross income
# ft	     full time work = 1; otherwise = 0
# pt	     part time work = 1; otherwise = 0
# unemp        unemployed = 1; otherwise 0
# winter       interview in winter quarter = 1; otherwise = 0
# spring       interview in spring quarter = 1; otherwise = 0
# fall         interview in fall quarter = 1; otherwise = 0
dfhcg = data.frame(hcg)
dfhcg$docvisit = as.integer(as.logical(dfhcg$doctco))
totaldoc = sum(dfhcg$doctco)

dfhcg_95 = filter(dfhcg, year == 95)
count_95 = dim(dfhcg_95)[1]
mdoctco_95 = mean(dfhcg_95$doctco)
mnovisit_95 = 1 - mean(dfhcg_95$docvisit)
munemp_95 = mean(dfhcg_95$unemp)
msport_95 = mean(dfhcg_95$sport)
mgoodh_95 = mean(dfhcg_95$goodh)
mbadh_95 = mean(dfhcg_95$badh)

dfhcg_96 = filter(dfhcg, year == 96)
count_96 = dim(dfhcg_96)[1]
mdoctco_96 = mean(dfhcg_96$doctco)
mnovisit_96 = 1 - mean(dfhcg_96$docvisit)
munemp_96 = mean(dfhcg_96$unemp)
msport_96 = mean(dfhcg_96$sport)
mgoodh_96 = mean(dfhcg_96$goodh)
mbadh_96 = mean(dfhcg_96$badh)

dfhcg_97 = filter(dfhcg, year == 97)
count_97 = dim(dfhcg_97)[1]
mdoctco_97 = mean(dfhcg_97$doctco)
mnovisit_97 = 1 - mean(dfhcg_97$docvisit)
munemp_97 = mean(dfhcg_97$unemp)
msport_97 = mean(dfhcg_97$sport)
mgoodh_97 = mean(dfhcg_97$goodh)
mbadh_97 = mean(dfhcg_97$badh)

dfhcg_98 = filter(dfhcg, year == 98)
count_98 = dim(dfhcg_98)[1]
mdoctco_98 = mean(dfhcg_98$doctco)
mnovisit_98 = 1 - mean(dfhcg_98$docvisit)
munemp_98 = mean(dfhcg_98$unemp)
msport_98 = mean(dfhcg_98$sport)
mgoodh_98 = mean(dfhcg_98$goodh)
mbadh_98 = mean(dfhcg_98$badh)

dfhcg_99 = filter(dfhcg, year == 99)
count_99 = dim(dfhcg_99)[1]
mdoctco_99 = mean(dfhcg_99$doctco)
mnovisit_99 = 1 - mean(dfhcg_99$docvisit)
munemp_99 = mean(dfhcg_99$unemp)
msport_99 = mean(dfhcg_99$sport)
mgoodh_99 = mean(dfhcg_99$goodh)
mbadh_99 = mean(dfhcg_99$badh)

typeof(mnovisit_95)
res = c(count_95, mdoctco_95, mnovisit_95, munemp_95, msport_95, mgoodh_95 ,mbadh_95,
           count_96, mdoctco_96, mnovisit_96, munemp_96, msport_96, mgoodh_96,mbadh_96,
           count_97, mdoctco_97, mnovisit_97, munemp_97, msport_97, mgoodh_97,mbadh_97,
           count_98, mdoctco_98, mnovisit_98, munemp_98, msport_98, mgoodh_98,mbadh_98,
           count_99, mdoctco_99, mnovisit_99, munemp_99, msport_99, mgoodh_99,mbadh_99)
disp = matrix(data = res, nrow = 7, ncol = 5, byrow = FALSE,
       dimnames = NULL)
```


## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
